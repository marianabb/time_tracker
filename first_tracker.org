#+TITLE: Detection and Quantification of Small Changes in MRI Volumes -- Time Tracker
#+AUTHOR: Mariana Bustamante

* DONE Meeting with Robin 20-2:
   CLOSED: [2012-02-20 Mon 11:16]
   - Fiducials / ACPC
   - ROIs, remove parts
   - Skullstripping
     
   - Which methods allow ROIs? and [[*Skullstripping][skullstripping]]
     
* DONE [#A] Check stuff from the meeting: Which methods allow the following:
  CLOSED: [2012-03-01 Thu 16:49]
** Fiducials / ACPC
- Registration > Fiducial Registration :: computes a linear transform from two lists of fiducials. The transform can either be 
   translation only, rigid transform, or similarity transform.
- Registration > ACPC Transform :: The resulting transform will bring the line connecting AC and PC to a line horizontal to the AP axis.
** ROIs, remove parts
- Wizards > ChangeTracker :: allows marking of zones to be analyzed and it finds differences. [[ChangeTracker][But is special for tumors]].
- 'Mask options' in Registration > BRAINS :: The mask ROI is a volume and can be provided or autogenerated (ROIAUTO).
- Foreground Masking Module :: in Segmentation > Specialized > Foreground Masking (BRAINS). Available in Slicer3 and Slicer4. [[http://wiki.slicer.org/slicerWiki/index.php/Documentation/4.0/Modules/ForegroundMasking][Link]].
  Uses a combination of otsu thresholding and a closing operations.
** Skullstripping
- Skull stripping module in Slicer3: [[http://www.slicer.org/slicerWiki/index.php/Modules:SkullStripperModule][Module link]] (it's marked as 'in progress').
- Not in Slicer4 as a separate module.

* DONE HelloPython Slicer tutorial
  CLOSED: [2012-02-21 Tue 16:24]
  - [[http://www.slicer.org/slicerWiki/images/3/3c/ProgrammingIntoSlicer3.6.1_HelloPython_MICCAI2010_SoniaPujol.pdf][Link to the tutorial]]
  - Works in Slicer 3 ONLY. Terrible + messy documentation!!
  - Tried unsuccesfully to modify the script to do everything automatic. I guess I need more working examples.
    
* DONE Tutorial on quantitative imaging
  CLOSED: [2012-02-22 Wed 16:19]
1. [[http://www.slicer.org/slicerWiki/images/c/c6/Slicer4QuantitativeImaging.pdf][Link to the tutorial]]   
2. Important part begins on slide 56 (exploring volumetric changes)
3. <<<ChangeTracker>>> Module --> [[http://wiki.slicer.org/slicerWiki/index.php/Documentation/4.0/Modules/ChangeTracker][Slicer4 module page]] [[http://wiki.slicer.org/slicerWiki/index.php/Modules:ChangeTracker-Documentation-3.6][Slicer3 module page]]
   + Main goal is tumor changes.
   + Assumes (among other things): the pathology area is characterized by bright image intensities (contrast-enhanced meningioma MRI).
   + Change can be detected by analyzing intensity pattern (fast) or deformation map (slow).
   + It is not perfect, some times fails, some times crashes.
   + It allows registering the data with my own transformation (obtained before) instead of using the default one which is Rigid registration.
   + It also allows skipping the registration step altogether.

* TODO Check ChangeTracker module in depth
** DONE How slow/good is the slow option? (deformation map)
    CLOSED: [2012-02-22 Wed 16:21]
- It's not an option in Slicer4, only in Slicer3. I don't know why it's mentioned in the tutorial, probably the Slicer4 version is not done.
- More quantification metrics can be added manually.
      
** TODO Check ChangeTracker source code
** DONE Does it exist for Slicer3?
    CLOSED: [2012-02-23 Thu 13:59]
    Yes, actually the documentation is better and the module is more complete.

** DONE Find a way to use the slow option (deformation map)
    CLOSED: [2012-02-23 Thu 14:13]
    Solution: Use Slicer3

** DONE Read the paper about metrics to quantify tumor progression
    CLOSED: [2012-02-27 Mon 15:41]
[[http://www.spl.harvard.edu/publications/item/view/1430][- Link to the paper]]
- [[file:../thesis_papers/monitoring_slowly_evolving_tumors.org][Summary]]

** TODO Can I use it freely?
- The module is included in Slicer3, so I'm assuming it has the same Licence as Slicer.
- Here is a [[http://slicer.org/pages/LicenseText][Link]] to the Slicer License Agreement.
- Basically it says that the software is open source and grants everything to 'Brigham' (The Brigham and Women's Hospital, Inc.).
  

* TODO Read more about developing for Slicer
** TODO Read [[http://www.slicer.org/slicerWiki/index.php/Documentation/4.0/Developers/Modules][This]] about Slicer Modules
- Slicer4 supports 3 types of modules:
  1. Command Line Interface (CLI)
  2. Loadable Modules
  3. Scripted Modules
- The end user won't notice a difference as they all share the look & feel. The choice for a given type of module is usually based 
  on the type of inputs/parameters for a given module.
*** Command Line Interface (CLI)
- Standalone executables with a limited input/output arguments complexity (simple argument types, no user interactions). 
- They are typically implemented using ITK. 
- The recommended way to write your own CLI is to copy an existing module.
- GUI automatically generated.


- Require a module.xml and a module.so or module.py
- Can't update the 3D visualization or Slicer viewers while executing.
- Can't accept or request input while running.

*** Loadable Modules
- C++ plugins that are built against Slicer. They define custom GUIs for their specific behavior as they have full control over the application.
- Full control over the GUI (Qt) and Slicer internals (MRML, logics, display managers...).
- Optimized for heavy computations.


- Change tracker is a loadable module.
- In theory you can create your own using ModuleWizard.py but I can't find this file.
**** TODO Is it in the nightly build version? Maybe must compile Slicer from scratch? This is annoying...
*** Scripted Modules
- Written in Python and typically but not necessarily use the high level API of Slicer and toolkits.
- Full access to the API: VTK, ITK, MRML, Qt and Slicer are fully wrapped.
- Recommended for fast prototyping.



** TODO Read more documentation on new modules/extensions
** TODO Find more examples
* TODO Update repository and organize documents
** DONE New repository for papers
   CLOSED: [2012-02-22 Wed 11:22]
   It's in Github, named thesis\_papers

** TODO How to add all TODOs to the agenda (Regexp)
** DONE Can I use my public\_html page?
   CLOSED: [2012-03-01 Thu 19:02]
Yes, yes I can. [[http://cb.uu.se/~mariana][Here]].

* TODO [#C] Learn more orgmode

* TODO Reestructure the tracker file by sections:
- [ ] Meetings
- [ ] Papers
- [ ] Extras
- [ ] Slicer
- [ ] Other tools

* DONE Read the paper: Automatic detection and segmentation of evolving processes in 3D medical Images: Application to multiple sclerosis.
                    CLOSED: [2012-02-28 Tue 16:40]
- [[file:../thesis\_papers/automatic_detection_and_segmentation_of_evolving_processes.org][Summary]]
  
* DONE Meeting with Robin 5-3:
  CLOSED: [2012-03-05 Mon 11:12]
- Continue reading Slicer documentation
- [ ] Goal for the week: Create a module, not necesarily very functional.
- [ ] Next week we must agree on what functions and methods to use according to the papers read.

